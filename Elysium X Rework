getgenv().gamesConfig = {  
    {  
        gameName = "Pressure",  
        placeId = 12411473842,  
        ConfigScript = [[ loadstring(game:HttpGet("https://raw.githubusercontent.com/HS1HYDRAX7/Elysium-X-Rework/refs/heads/main/Loader/Elysium%20X%20Pressure"))() ]]  
    },  
}  

getgenv().gamechecker = true  
getgenv().ScriptName = "Elysium X Rework"  
getgenv().UniversalScript = [[ loadstring(game:HttpGet("https://raw.githubusercontent.com/HS1HYDRAX7/Elysium-X-Rework/refs/heads/main/Loader/Elysium%20X%20Universal"))() ]]  

local CONFIG = {
    ContainerWidth = 380,
    ContainerHeight = 100,
    BarHeight = 8,
    BarPaddingX = 32,
    BarLerpSpeed = 0.4,
    FadeInSpeed = 0.4,
    FadeOutSpeed = 0.3,
}

local TweenService = game:GetService("TweenService")
local player = game:GetService("Players").LocalPlayer

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ElysiumGraphiteLoader"
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.ResetOnSpawn = false

local success_gui = pcall(function()
    screenGui.Parent = game:GetService("CoreGui")
end)
if not success_gui then
    screenGui.Parent = player:WaitForChild("PlayerGui")
end

local container = Instance.new("Frame")
container.Name = "LoaderContainer"
container.Size = UDim2.new(0, CONFIG.ContainerWidth, 0, CONFIG.ContainerHeight)
container.Position = UDim2.new(0.5, 0, 0.5, 0)
container.AnchorPoint = Vector2.new(0.5, 0.5)
container.BackgroundColor3 = Color3.fromRGB(38, 38, 42)
container.BorderSizePixel = 0
container.BackgroundTransparency = 1
container.Parent = screenGui

local containerCorner = Instance.new("UICorner")
containerCorner.CornerRadius = UDim.new(0, 12)
containerCorner.Parent = container

local containerStroke = Instance.new("UIStroke")
containerStroke.Color = Color3.fromRGB(68, 68, 72)
containerStroke.Thickness = 1
containerStroke.Transparency = 1
containerStroke.Parent = container

local statusLabel = Instance.new("TextLabel")
statusLabel.Name = "StatusLabel"
statusLabel.Size = UDim2.new(1, -CONFIG.BarPaddingX * 2, 0, 20)
statusLabel.Position = UDim2.new(0, CONFIG.BarPaddingX, 0, 28)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "Checking Game..."
statusLabel.TextColor3 = Color3.fromRGB(176, 176, 176)
statusLabel.TextSize = 14
statusLabel.Font = Enum.Font.GothamMedium
statusLabel.TextTransparency = 1
statusLabel.Parent = container

local barBackground = Instance.new("Frame")
barBackground.Name = "BarBackground"
barBackground.Size = UDim2.new(1, -CONFIG.BarPaddingX * 2, 0, CONFIG.BarHeight)
barBackground.Position = UDim2.new(0, CONFIG.BarPaddingX, 0, 60)
barBackground.BackgroundColor3 = Color3.fromRGB(24, 24, 28)
barBackground.BackgroundTransparency = 1
barBackground.Parent = container

local barFill = Instance.new("Frame")
barFill.Name = "BarFill"
barFill.Size = UDim2.new(0, 0, 1, 0)
barFill.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
barFill.BackgroundTransparency = 1
barFill.Parent = barBackground
Instance.new("UICorner", barFill).CornerRadius = UDim.new(0, 3)
Instance.new("UICorner", barBackground).CornerRadius = UDim.new(0, 3)

local selectedScript = nil
local gameName = "Unknown"

if getgenv().gamechecker then
    for _, gameData in pairs(getgenv().gamesConfig) do
        if game.PlaceId == gameData.placeId then
            selectedScript = gameData.ConfigScript
            gameName = gameData.gameName
            break
        end
    end
end

if not selectedScript then
    selectedScript = getgenv().UniversalScript
end

local function updateLoader(status, progress)
    statusLabel.Text = status
    local targetSize = UDim2.new(progress / 100, 0, 1, 0)
    TweenService:Create(barFill, TweenInfo.new(CONFIG.BarLerpSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Size = targetSize}):Play()
end

local function removeLoader()
    local info = TweenInfo.new(CONFIG.FadeOutSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.In)
    TweenService:Create(container, info, {BackgroundTransparency = 1}):Play()
    TweenService:Create(containerStroke, info, {Transparency = 1}):Play()
    TweenService:Create(statusLabel, info, {TextTransparency = 1}):Play()
    TweenService:Create(barBackground, info, {BackgroundTransparency = 1}):Play()
    TweenService:Create(barFill, info, {BackgroundTransparency = 1}):Play()
    task.wait(CONFIG.FadeOutSpeed)
    screenGui:Destroy()
end

task.spawn(function()
    local infoIn = TweenInfo.new(CONFIG.FadeInSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    TweenService:Create(container, infoIn, {BackgroundTransparency = 0}):Play()
    TweenService:Create(containerStroke, infoIn, {Transparency = 0}):Play()
    TweenService:Create(statusLabel, infoIn, {TextTransparency = 0}):Play()
    TweenService:Create(barBackground, infoIn, {BackgroundTransparency = 0}):Play()
    TweenService:Create(barFill, infoIn, {BackgroundTransparency = 0}):Play()
    
    task.wait(0.5)
    updateLoader("Detected: " .. gameName, 30)
    task.wait(0.8)
    updateLoader("Loading " .. getgenv().ScriptName, 70)
    task.wait(0.8)
    updateLoader("Finalizing Execution", 100)
    task.wait(0.5)
    
    task.spawn(function()
        pcall(function()
            loadstring(selectedScript)()
        end)
    end)
    
    removeLoader()
end)
