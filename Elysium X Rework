local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "Elysium X Rework",
    Icon = "award",
    Author = "By Atlas",
    Folder = "Elysium X Rework",
    Transparent = true,
    Theme = "Crimson",
    Resizable = true,
    HideSearchBar = false,
    ScrollBarEnabled = true,

    KeySystem = {
        Key = { "260126", "0000" },
        Note = "The key is 260126 or 0000",
    },
})

Window:Tag({
    Title = "Rework In Progress",
    Icon = "book-plus",
    Color = Color3.fromHex("#000080"),
    Radius = 13,
})

Window:EditOpenButton({
    Title = "Open Elysium",
    Icon = "monitor",
    CornerRadius = UDim.new(0,50),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("FF0000"),
        Color3.fromHex("000080")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

local MainTab = Window:Tab({ Title = "Main", Icon = "star", Locked = false })

MainTab:Paragraph({
    Title = "Credits",
    Desc = "By Atlas (Solo Developer)",
    Color = "Red",
    Image = "rbxassetid://18631102886",
    ImageSize = 50,
    Locked = false,
    Buttons = {
        {
            Icon = "link",
            Title = "Discord",
            Callback = function()
                setclipboard("https://discord.gg/JEpRMHSkpq")
                WindUI:Notify({
                    Title = "Discord",
                    Content = "Link Copied",
                    Duration = 3,
                    Icon = "external-link",
                })
            end,
        },
        {
            Icon = "link",
            Title = "TikTok",
            Callback = function()
                setclipboard("@mrnexus000")
                WindUI:Notify({
                    Title = "TikTok",
                    Content = "Username Copied",
                    Duration = 3,
                    Icon = "external-link",
                })
            end,
        },
        {
            Icon = "link",
            Title = "YouTube",
            Callback = function()
                setclipboard("@Atlas_Scripts")
                WindUI:Notify({
                    Title = "YouTube",
                    Content = "Username Copied",
                    Duration = 3,
                    Icon = "external-link",
                })
            end,
        },
    }
})

MainTab:Dropdown({
    Title = "Theme",
    Values = { "Rose","Light","MonokaiPro","Plant","Midnight","CottonCandy","Dark","Indigo","Sky","Crimson","Amber","Violet","Red" },
    Value = "Crimson",
    Callback = function(option)
        WindUI:SetTheme(option)
    end
})

MainTab:Toggle({
    Title = "Transparent",
    Icon = "palette",
    Value = true,
    Callback = function(state)
        Window:ToggleTransparency(state)
    end
})

MainTab:Input({
    Title = "URL Library",
    Callback = function(text)
        local songs = MainTab.Songs or {}
        local num, id = text:match("%[(%d+):(%d+)%]")
        if num and id then
            num = tonumber(num)
            songs[num] = {ID = "rbxassetid://"..id, Name = "Music "..num}
            MainTab.Songs = songs

            local sortedKeys = {}
            for k,_ in pairs(songs) do table.insert(sortedKeys, k) end
            table.sort(sortedKeys)

            local values = {}
            for _,key in ipairs(sortedKeys) do
                table.insert(values, songs[key].Name)
            end

            MainTab.DropdownValues = values
            MainTab.DropdownValue = values[1]

            if MainTab.CurrentSound then
                MainTab.CurrentSound:Stop()
                MainTab.CurrentSound:Destroy()
            end
            local sound = Instance.new("Sound")
            sound.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
            sound.Looped = false
            sound.Volume = 1
            sound.SoundId = songs[sortedKeys[1]].ID
            MainTab.CurrentSound = sound

            if MainTab.SliderInstance then
                MainTab.SliderInstance.Title = "00:00/"..math.floor(sound.TimeLength)
            end
        end
    end
})

MainTab:Dropdown({
    Title = "Musics",
    Values = {},
    Value = "",
    Callback = function(option)
        local songs = MainTab.Songs
        if songs then
            for _,v in pairs(songs) do
                if v.Name == option then
                    if MainTab.CurrentSound then
                        MainTab.CurrentSound:Stop()
                        MainTab.CurrentSound:Destroy()
                    end
                    local sound = Instance.new("Sound")
                    sound.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
                    sound.Looped = false
                    sound.Volume = 1
                    sound.SoundId = v.ID
                    MainTab.CurrentSound = sound
                    break
                end
            end
        end
    end
})

MainTab:Button({
    Title = "Play",
    Callback = function()
        if MainTab.CurrentSound then
            MainTab.CurrentSound:Play()
        end
    end
})

MainTab:Button({
    Title = "Pause",
    Callback = function()
        if MainTab.CurrentSound then
            MainTab.CurrentSound:Pause()
        end
    end
})

game:GetService("RunService").RenderStepped:Connect(function()
    local sound = MainTab.CurrentSound
    if sound and sound.TimeLength > 0 then
        local pos = sound.TimePosition / sound.TimeLength
        MainTab.SliderInstance.Value.Default = pos * 1000
        local minutes1 = math.floor(sound.TimePosition/60)
        local seconds1 = math.floor(sound.TimePosition%60)
        local minutes2 = math.floor(sound.TimeLength/60)
        local seconds2 = math.floor(sound.TimeLength%60)
        MainTab.SliderInstance.Title = string.format("%02d:%02d/%02d:%02d", minutes1, seconds1, minutes2, seconds2)
    end
end)
