local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "Elysium X Rework",
    Icon = "award",
    Author = "By Atlas",
    Folder = "Elysium X Rework",
    Transparent = true,
    Theme = "Crimson",
    Resizable = true,
    HideSearchBar = false,
    ScrollBarEnabled = true,

    KeySystem = {
        Key = { "260126", "0000" },
        Note = "The key is 260126 or 0000",
    },
})

Window:CreateTopbarButton("YouTube","youtube",function()
    WindUI:Notify({
        Title = "YouTube",
        Content = "@Atlas_Scripts",
        Duration = 5,
        Icon = "youtube",
    })
end,1)

Window:Tag({
    Title = "Rework In Progress",
    Icon = "book-plus",
    Color = Color3.fromHex("#000080"),
    Radius = 13,
})

Window:EditOpenButton({
    Title = "Open Elysium",
    Icon = "monitor",
    CornerRadius = UDim.new(0,50),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("FF0000"),
        Color3.fromHex("000080")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

local MainTab = Window:Tab({ Title = "Main", Icon = "star", Locked = false })
local ForsakenTab = Window:Tab({ Title = "Forsaken", Icon = "sword", Locked = false })

MainTab:Dropdown({
    Title = "Theme",
    Values = { "Rose","Light","MonokaiPro","Plant","Midnight","CottonCandy","Dark","Indigo","Sky","Crimson","Amber","Violet","Red" },
    Value = "Crimson",
    Callback = function(option)
        WindUI:SetTheme(option)
    end
})

MainTab:Toggle({
    Title = "Transparent",
    Icon = "palette",
    Value = true,
    Callback = function(state)
        Window:ToggleTransparency(state)
    end
})

ForsakenTab:Toggle({
    Title = "Fullbright",
    Value = false,
    Callback = function(state)
        local Lighting = game:GetService("Lighting")
        if state then
            Lighting.Brightness = 3
            Lighting.ClockTime = 14
            Lighting.Ambient = Color3.new(1,1,1)
            Lighting.OutdoorAmbient = Color3.new(1,1,1)
            Lighting.FogEnd = 1e9
            Lighting.GlobalShadows = false
            for _,v in ipairs(Lighting:GetChildren()) do
                if v:IsA("Atmosphere") or v:IsA("BloomEffect") or v:IsA("ColorCorrectionEffect")
                or v:IsA("BlurEffect") or v:IsA("SunRaysEffect") or v:IsA("DepthOfFieldEffect") then
                    v:Destroy()
                end
            end
        else
            Lighting.Brightness = 3
            Lighting.ClockTime = 5.6
            Lighting.FogEnd = 100000
            Lighting.GlobalShadows = true
        end
    end
})

ForsakenTab:Toggle({
    Title = "No Fall Slowness",
    Value = false,
    Callback = function(state)
        if state then
            _G.__NoFallConn = game:GetService("RunService").Stepped:Connect(function()
                local c = game.Players.LocalPlayer.Character
                local sm = c and c:FindFirstChild("SpeedMultipliers")
                local fs = sm and sm:FindFirstChild("FallSlowness")
                if fs then fs:Destroy() end
            end)
        else
            if _G.__NoFallConn then
                _G.__NoFallConn:Disconnect()
                _G.__NoFallConn = nil
            end
        end
    end
})

ForsakenTab:Toggle({
    Title = "Spam Footsteps (FE)",
    Value = false,
    Callback = function(state)
        if state then
            _G.__FootstepConn = game:GetService("RunService").Stepped:Connect(function()
                game:GetService("ReplicatedStorage")
                    :WaitForChild("Modules")
                    :WaitForChild("Network")
                    :WaitForChild("UnreliableRemoteEvent")
                    :FireServer("FootstepPlayed",9)
            end)
        else
            if _G.__FootstepConn then
                _G.__FootstepConn:Disconnect()
                _G.__FootstepConn = nil
            end
        end
    end
})

ForsakenTab:Toggle({
    Title = "Invisible",
    Value = false,
    Callback = function(state)
        local c = game.Players.LocalPlayer.Character
        local h = c and c:FindFirstChild("Humanoid")
        if not h then return end
        if state then
            local a = Instance.new("Animation")
            a.AnimationId = "rbxassetid://75804462760596"
            local t = h:LoadAnimation(a)
            t:Play(0,1,1)
            t:AdjustSpeed(0)
            _G.__InvisibleTrack = t
        else
            if _G.__InvisibleTrack then
                _G.__InvisibleTrack:Stop()
                _G.__InvisibleTrack = nil
            end
        end
    end
})

ForsakenTab:Toggle({
    Title = "Auto Generator",
    Value = false,
    Callback = function(state)
        _G.__AutoGen = state
        if state then
            task.spawn(function()
                while _G.__AutoGen do
                    for _,g in ipairs(workspace.Map.Ingame.Map:GetChildren()) do
                        if g.Name == "Generator" then
                            g.Remotes.RE:FireServer()
                        end
                    end
                    task.wait(_G.__AutoGenDelay or 3)
                end
            end)
        end
    end
})

ForsakenTab:Slider({
    Title = "Auto Gen Delay",
    Step = 1,
    Value = {
        Min = 3,
        Max = 30,
        Default = 3,
    },
    Callback = function(value)
        _G.__AutoGenDelay = value
    end
})

ForsakenTab:Toggle({
    Title = "FrontFlip",
    Value = false,
    Callback = function(state)
        local Players = game:GetService("Players")
        local InsertService = game:GetService("InsertService")
        local LocalPlayer = Players.LocalPlayer

        if state then
            if _G.__FrontFlipBtn then return end

            local asset = InsertService:LoadAsset(92368439343389)
            local TopbarPlus = require(asset:GetChildren()[1])

            local button = TopbarPlus.new()
            button:setImage("rbxassetid://6212253422")
            button:setLabel("FrontFlip")

            _G.__FrontFlipBtn = button

            button:bindEvent("selected", function()
                local char = LocalPlayer.Character
                local hum = char and char:FindFirstChild("Humanoid")
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                if not (hum and hrp) then return end

                if char:FindFirstChild("Animate") then
                    char.Animate.Disabled = true
                end

                local animator = hum:FindFirstChildOfClass("Animator")
                if animator then
                    for _,v in ipairs(animator:GetPlayingAnimationTracks()) do
                        v:Stop()
                    end
                end

                for _,s in ipairs({
                    Enum.HumanoidStateType.FallingDown,
                    Enum.HumanoidStateType.Freefall,
                    Enum.HumanoidStateType.Running,
                    Enum.HumanoidStateType.Seated,
                    Enum.HumanoidStateType.Climbing
                }) do
                    hum:SetStateEnabled(s,false)
                end

                hum:ChangeState(Enum.HumanoidStateType.Physics)

                local cf = hrp.CFrame
                task.spawn(function()
                    for i=1,120 do
                        local t=i/120
                        local y=4*(t-t^2)*10
                        hrp.CFrame =
                            CFrame.new(
                                cf.Position + cf.LookVector*(35*t) + Vector3.yAxis*y
                            ) * cf.Rotation * CFrame.Angles(-math.rad(360*t),0,0)
                        task.wait(0.45/120)
                    end

                    hrp.CFrame = CFrame.new(cf.Position + cf.LookVector*35) * cf.Rotation

                    for _,s in ipairs({
                        Enum.HumanoidStateType.FallingDown,
                        Enum.HumanoidStateType.Freefall,
                        Enum.HumanoidStateType.Running,
                        Enum.HumanoidStateType.Seated,
                        Enum.HumanoidStateType.Climbing
                    }) do
                        hum:SetStateEnabled(s,true)
                    end

                    hum:ChangeState(Enum.HumanoidStateType.Running)
                    if char:FindFirstChild("Animate") then
                        char.Animate.Disabled = false
                    end
                end)
            end)
        else
            if _G.__FrontFlipBtn then
                _G.__FrontFlipBtn:destroy()
                _G.__FrontFlipBtn = nil
            end
        end
    end
})
