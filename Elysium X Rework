local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "Elysium X Rework",
    Icon = "award",
    Author = "By Atlas",
    Folder = "Elysium X Rework",
    Transparent = true,
    Theme = "Crimson",
    Resizable = true,
    HideSearchBar = false,
    ScrollBarEnabled = true,

    KeySystem = {
        Key = { "260126" },
        Note = "Still under development expect bugs",
    },
})

Window:Tag({
    Title = "Rework In Progress",
    Icon = "book-plus",
    Color = Color3.fromHex("#000080"),
    Radius = 13,
})

Window:EditOpenButton({
    Title = "Open Elysium",
    Icon = "monitor",
    CornerRadius = UDim.new(0,50),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("FF0000"),
        Color3.fromHex("000080")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

local MainTab = Window:Tab({ Title = "Main", Icon = "star", Locked = false })
local ElysiumAITab = Window:Tab({ Title = "Elysium AI", Icon = "cpu", Locked = false })

MainTab:Paragraph({
    Title = "Credits",
    Desc = "By Atlas (Solo Developer)",
    Color = "Red",
    Image = "rbxassetid://18631102886",
    ImageSize = 50,
    Locked = false,
    Buttons = {
        {
            Icon = "link",
            Title = "Discord",
            Callback = function()
                setclipboard("https://discord.gg/JEpRMHSkpq")
                WindUI:Notify({
                    Title = "Discord",
                    Content = "Link Copied",
                    Duration = 3,
                    Icon = "external-link",
                })
            end,
        },
        {
            Icon = "link",
            Title = "TikTok",
            Callback = function()
                setclipboard("@mrnexus000")
                WindUI:Notify({
                    Title = "TikTok",
                    Content = "Username Copied",
                    Duration = 3,
                    Icon = "external-link",
                })
            end,
        },
        {
            Icon = "link",
            Title = "YouTube",
            Callback = function()
                setclipboard("@Atlas_Scripts")
                WindUI:Notify({
                    Title = "YouTube",
                    Content = "Username Copied",
                    Duration = 3,
                    Icon = "external-link",
                })
            end,
        },
    }
})

MainTab:Dropdown({
    Title = "Theme",
    Values = { "Rose","Light","MonokaiPro","Plant","Midnight","CottonCandy","Dark","Indigo","Sky","Crimson","Amber","Violet","Red" },
    Value = "Crimson",
    Callback = function(option)
        WindUI:SetTheme(option)
    end
})

MainTab:Toggle({
    Title = "Transparent",
    Icon = "palette",
    Value = true,
    Callback = function(state)
        Window:ToggleTransparency(state)
    end
})

ElysiumAITab:Paragraph({
    Title = "[ CHAT ]",
    Desc = "",
    Color = "Grey",
    Locked = false,
    Buttons = {}
})

ElysiumAITab:Input({
    Title = "API Key",
    Value = "",
    InputIcon = "key",
    Type = "Text",
    Placeholder = "Enter your API Key...",
    Callback = function(apiKey)
        print("API Key set")
    end
})

ElysiumAITab:Input({
    Title = "Message",
    Value = "",
    InputIcon = "code",
    Type = "Textarea",
    Placeholder = "Enter text...",
    Callback = function(input)
    end
})

ElysiumAITab:Button({
    Title = "Send",
    Locked = false,
    Callback = function()
        local message = ElysiumAITab:GetInputValue("Message") or ""
        local apiKey = ElysiumAITab:GetInputValue("API Key") or ""
        if message ~= "" and apiKey ~= "" then
            local paragraph = ElysiumAITab:GetParagraph("[ CHAT ]")
            local history = paragraph.Desc
            history = history .. string.format("\n[Player]: %s", message)
            local HttpService = game:GetService("HttpService")
            local success, reply = pcall(function()
                local data = HttpService:JSONEncode({prompt = message})
                local headers = {
                    ["Content-Type"] = "application/json",
                    ["Authorization"] = "Bearer " .. apiKey
                }
                local response = HttpService:PostAsync("https://api.gemini.com/v1/chat", data, Enum.HttpContentType.ApplicationJson, false, headers)
                local decoded = HttpService:JSONDecode(response)
                return decoded.response or "No reply"
            end)
            if not success then reply = "Error contacting AI" end
            history = history .. string.format("\n[Elysium AI]: %s", reply)
            paragraph.Desc = history
        end
    end
})
