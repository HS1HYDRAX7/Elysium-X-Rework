local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "Elysium X Rework",
    Icon = "award",
    Author = "By Atlas",
    Folder = "Elysium X Rework",
    Transparent = true,
    Theme = "Crimson",
    Resizable = true,
    HideSearchBar = false,
    ScrollBarEnabled = true
})

Window:Tag({
    Title = "Rework In Progress",
    Icon = "book-plus",
    Color = Color3.fromHex("#000080"),
    Radius = 13,
})

Window:EditOpenButton({
    Title = "Elysium X ",
    Icon = "monitor",
    CornerRadius = UDim.new(0,50),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("FF0000"),
        Color3.fromHex("000080")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

local MainTab = Window:Tab({ Title = "Main", Icon = "star", Locked = false })
local PressureTab = Window:Tab({ Title = "Pressure", Icon = "layout-grid", Locked = false })
local OthersTab = Window:Tab({ Title = "Others", Icon = "folder", Locked = false })

MainTab:Paragraph({
    Title = "Links",
    Image = "rbxassetid://127485747227189",
    ImageSize = 50,
    Locked = false,
    Buttons = {
        {
            Icon = "file-symlink",
            Title = "Website",
            Callback = function()
                setclipboard("https://hs1hydrax7.github.io/Site/")
                WindUI:Notify({
                    Title = "Website",
                    Content = "Link Copied!",
                    Duration = 3,
                    Icon = "link-2",
                })
            end,
        },
        {
            Icon = "file-symlink",
            Title = "TikTok",
            Callback = function()
                setclipboard("@mrnexus000")
                WindUI:Notify({
                    Title = "TikTok",
                    Content = "Username Copied",
                    Duration = 3,
                    Icon = "link-2",
                })
            end,
        },
    }
})

MainTab:Dropdown({
    Title = "Theme",
    Values = { "Rose","Light","MonokaiPro","Plant","Midnight","CottonCandy","Dark","Indigo","Sky","Crimson","Amber","Violet","Red" },
    Value = "Crimson",
    Callback = function(option)
        WindUI:SetTheme(option)
    end
})

MainTab:Toggle({
    Title = "Transparent",
    Icon = "palette",
    Value = true,
    Callback = function(state)
        Window:ToggleTransparency(state)
    end
})

OthersTab:Button({
    Title = "Infinite Yield",
    Icon = "file",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
    end
})

OthersTab:Button({
    Title = "Dex Explorer",
    Icon = "file",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/infyiff/backup/main/dex.lua"))()
    end
})

OthersTab:Toggle({
    Title = "Utility Camera",
    Value = false,
    Callback = function(state)

        if not getgenv().__UtilityCameraData then
            getgenv().__UtilityCameraData = {}
        end

        local data = getgenv().__UtilityCameraData

        if state then

            if data.Initialized then
                data.Enabled = true
                if data.ButtonFrame then
                    data.ButtonFrame.Visible = true
                end
                return
            end

            data.Enabled = true
            data.Initialized = true
            data.Zoom = 70
            data.Flashlight = false
            data.NightVision = false
            data.GuiOpen = false

            local TweenService = game:GetService("TweenService")
            local Players = game:GetService("Players")
            local Lighting = game:GetService("Lighting")
            local RunService = game:GetService("RunService")
            local LocalPlayer = Players.LocalPlayer
            local Camera = workspace.CurrentCamera

            local sausageHolder = game.CoreGui.TopBarApp.TopBarApp.UnibarLeftFrame.UnibarMenu:FindFirstChild("2")
            data.SausageHolder = sausageHolder
            data.OriginalSize = sausageHolder.Size.X.Offset
            data.ExpandedSize = UDim2.new(0, data.OriginalSize + 48, 0, sausageHolder.Size.Y.Offset)

            local buttonFrame = Instance.new("Frame", sausageHolder)
            buttonFrame.Size = UDim2.new(0, 48, 0, 44)
            buttonFrame.BackgroundTransparency = 1
            buttonFrame.BorderSizePixel = 0
            buttonFrame.Position = UDim2.new(0, sausageHolder.Size.X.Offset - 48, 0, 0)

            local imageButton = Instance.new("ImageButton", buttonFrame)
            imageButton.BackgroundTransparency = 1
            imageButton.BorderSizePixel = 0
            imageButton.Size = UDim2.new(0, 36, 0, 36)
            imageButton.AnchorPoint = Vector2.new(0.5, 0.5)
            imageButton.Position = UDim2.new(0.5, 0, 0.5, 0)
            imageButton.Image = "rbxassetid://79950339943067"

            data.ButtonFrame = buttonFrame
            data.ImageButton = imageButton

            local screenGui = Instance.new("ScreenGui")
            screenGui.Name = "UtilityCameraGui"
            screenGui.ResetOnSpawn = false
            screenGui.Enabled = false
            screenGui.Parent = game.CoreGui

            local mainFrame = Instance.new("Frame", screenGui)
            mainFrame.Size = UDim2.new(1,0,1,0)
            mainFrame.Position = UDim2.new(0,0,1,0)
            mainFrame.BackgroundColor3 = Color3.fromRGB(5,5,8)
            mainFrame.BorderSizePixel = 0

            local sideFrame = Instance.new("Frame", mainFrame)
            sideFrame.Size = UDim2.new(0,90,0,260)
            sideFrame.Position = UDim2.new(1,-110,0.5,-130)
            sideFrame.BackgroundColor3 = Color3.fromRGB(15,15,20)
            sideFrame.BorderSizePixel = 0

            local sideCorner = Instance.new("UICorner", sideFrame)
            sideCorner.CornerRadius = UDim.new(0,18)

            local layout = Instance.new("UIListLayout", sideFrame)
            layout.Padding = UDim.new(0,15)
            layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
            layout.VerticalAlignment = Enum.VerticalAlignment.Center

            local function createButton(icon)
                local btn = Instance.new("ImageButton")
                btn.Size = UDim2.new(0,60,0,60)
                btn.BackgroundColor3 = Color3.fromRGB(25,25,35)
                btn.BorderSizePixel = 0
                btn.Image = icon
                local c = Instance.new("UICorner", btn)
                c.CornerRadius = UDim.new(0,16)
                btn.Parent = sideFrame
                return btn
            end

            local zoomIn = createButton("rbxassetid://111774323017047")
            local zoomOut = createButton("rbxassetid://118026365011536")
            local flashlightBtn = createButton("rbxassetid://79780362871740")
            local nightBtn = createButton("rbxassetid://132239189859305")

            local static = Instance.new("ImageLabel", mainFrame)
            static.Size = UDim2.new(1,0,1,0)
            static.BackgroundTransparency = 1
            static.Image = "rbxassetid://2151741365"
            static.ImageTransparency = 0.85

            local blur = Instance.new("BlurEffect", Lighting)
            blur.Size = 0

            local colorCorrection = Instance.new("ColorCorrectionEffect", Lighting)
            colorCorrection.Enabled = false

            local original = {
                Brightness = Lighting.Brightness,
                ClockTime = Lighting.ClockTime,
                Ambient = Lighting.Ambient,
                OutdoorAmbient = Lighting.OutdoorAmbient
            }

            local light
            local attach

            local function updateZoom()
                Camera.FieldOfView = data.Zoom
            end

            local function toggleFlashlight()
                data.Flashlight = not data.Flashlight
                if data.Flashlight then
                    flashlightBtn.Image = "rbxassetid://100286985600444"
                    local char = LocalPlayer.Character
                    if char and char:FindFirstChild("Head") then
                        attach = Instance.new("Attachment", char.Head)
                        light = Instance.new("SpotLight", attach)
                        light.Range = 60
                        light.Angle = 80
                        light.Brightness = 8
                        light.Shadows = true
                    end
                else
                    flashlightBtn.Image = "rbxassetid://79780362871740"
                    if light then light:Destroy() end
                    if attach then attach:Destroy() end
                end
            end

            local function toggleNight()
                data.NightVision = not data.NightVision
                if data.NightVision then
                    nightBtn.Image = "rbxassetid://107587444636945"
                    Lighting.Brightness = 4
                    Lighting.ClockTime = 14
                    Lighting.Ambient = Color3.fromRGB(0,255,0)
                    Lighting.OutdoorAmbient = Color3.fromRGB(0,255,0)
                    colorCorrection.Enabled = true
                    colorCorrection.TintColor = Color3.fromRGB(120,255,120)
                    colorCorrection.Contrast = 0.3
                    blur.Size = 4
                else
                    nightBtn.Image = "rbxassetid://132239189859305"
                    Lighting.Brightness = original.Brightness
                    Lighting.ClockTime = original.ClockTime
                    Lighting.Ambient = original.Ambient
                    Lighting.OutdoorAmbient = original.OutdoorAmbient
                    colorCorrection.Enabled = false
                    blur.Size = 0
                end
            end

            zoomIn.MouseButton1Click:Connect(function()
                data.Zoom = math.clamp(data.Zoom - 5, 20, 120)
                updateZoom()
            end)

            zoomOut.MouseButton1Click:Connect(function()
                data.Zoom = math.clamp(data.Zoom + 5, 20, 120)
                updateZoom()
            end)

            flashlightBtn.MouseButton1Click:Connect(toggleFlashlight)
            nightBtn.MouseButton1Click:Connect(toggleNight)

            RunService.RenderStepped:Connect(function()
                if data.GuiOpen then
                    static.ImageRectOffset = Vector2.new(math.random(0,100), math.random(0,100))
                end
            end)

            local function openGui()
                data.GuiOpen = true
                screenGui.Enabled = true
                imageButton.Image = "rbxassetid://81057636835256"
                updateZoom()
                TweenService:Create(mainFrame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    Position = UDim2.new(0,0,0,0)
                }):Play()
            end

            local function closeGui()
                data.GuiOpen = false
                imageButton.Image = "rbxassetid://79950339943067"
                TweenService:Create(mainFrame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
                    Position = UDim2.new(0,0,1,0)
                }):Play()
                task.wait(0.4)
                screenGui.Enabled = false
                Camera.FieldOfView = 70
                if data.Flashlight then toggleFlashlight() end
                if data.NightVision then toggleNight() end
            end

            imageButton.MouseButton1Click:Connect(function()
                if data.GuiOpen then
                    closeGui()
                else
                    openGui()
                end
            end)

            task.spawn(function()
                while data.Initialized do
                    task.wait()
                    if data.Enabled then
                        sausageHolder.Size = data.ExpandedSize
                        buttonFrame.Position = UDim2.new(0, sausageHolder.Size.X.Offset - 48, 0, 0)
                    end
                end
            end)

        else

            data.Enabled = false

            workspace.CurrentCamera.FieldOfView = 70

            if data.ButtonFrame then
                data.ButtonFrame:Destroy()
                data.ButtonFrame = nil
            end

            if data.SausageHolder and data.OriginalSize then
                data.SausageHolder.Size = UDim2.new(0, data.OriginalSize, 0, data.SausageHolder.Size.Y.Offset)
            end

            data.Initialized = false
        end
    end
})
