local Players = game:GetService("Players")
local PathfindingService = game:GetService("PathfindingService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local SoundService = game:GetService("SoundService")
local player = Players.LocalPlayer

local MODEL_ID = 112753955356148
local SPAWN_DISTANCE = 30
local KILL_DISTANCE = 5

local gui = Instance.new("ScreenGui")
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.fromScale(1,1)
frame.BackgroundColor3 = Color3.new(0,0,0)
frame.BackgroundTransparency = 1
frame.Parent = gui

local texts = {
	"YOU SHOULD NOT BE HERE",
	"IT IS WATCHING YOU",
	"THERE IS NO ESCAPE",
	"YOU FAILED",
	"WHY DID YOU COME?"
}

local scream = Instance.new("Sound")
scream.SoundId = "rbxassetid://9118821436"
scream.Volume = 1
scream.Parent = workspace

local function spawnMonster()
	local character = player.Character
	if not character or not character:FindFirstChild("HumanoidRootPart") then return end

	local asset = game:GetObjects("rbxassetid://" .. MODEL_ID)[1]
	if not asset then return end
	asset.Parent = workspace
	asset.PrimaryPart = asset:FindFirstChildWhichIsA("BasePart")

	local hrp = character.HumanoidRootPart
	asset:SetPrimaryPartCFrame(hrp.CFrame * CFrame.new(0,0,-SPAWN_DISTANCE))

	local humanoid = asset:FindFirstChildWhichIsA("Humanoid")
	local rayParams = RaycastParams.new()
	rayParams.FilterType = Enum.RaycastFilterType.Blacklist
	rayParams.FilterDescendantsInstances = {asset}

	RunService.Heartbeat:Connect(function()
		if not character.Parent then
			asset:Destroy()
			return
		end

		local targetPos = hrp.Position
		local ray = workspace:Raycast(asset.PrimaryPart.Position, targetPos - asset.PrimaryPart.Position, rayParams)

		if ray and ray.Instance:IsDescendantOf(character) then
			local path = PathfindingService:CreatePath()
			path:ComputeAsync(asset.PrimaryPart.Position, targetPos)

			for _, waypoint in ipairs(path:GetWaypoints()) do
				humanoid:MoveTo(waypoint.Position)
				humanoid.MoveToFinished:Wait()
			end
		end

		if (asset.PrimaryPart.Position - targetPos).Magnitude <= KILL_DISTANCE then
			scream:Play()
			for i = 1, 6 do
				local tween = TweenService:Create(frame, TweenInfo.new(0.3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {BackgroundTransparency = 0})
				tween:Play()
				task.wait(0.15)
				local label = Instance.new("TextLabel")
				label.Size = UDim2.fromScale(1,1)
				label.BackgroundTransparency = 1
				label.TextColor3 = Color3.fromRGB(255,0,0)
				label.Font = Enum.Font.GothamBlack
				label.TextScaled = true
				label.Text = texts[math.random(#texts)]
				label.Parent = gui
				task.wait(0.15)
				label:Destroy()
				tween:Cancel()
				frame.BackgroundTransparency = 1
			end
			local hum = character:FindFirstChildWhichIsA("Humanoid")
			if hum then hum.Health = 0 end
			asset:Destroy()
		end
	end)
end

player.CharacterAdded:Connect(function()
	task.wait(2)
	spawnMonster()
end)
if player.Character then
	task.wait(2)
	spawnMonster()
end
